{# CMS-editable Features Section component.
   Uses get_features_section() Twig function to fetch block data from Drupal.
   
   Block type: 'features_section'
   Required fields in Drupal:
   - field_title (Text)
   - body (Text long)
   - field_cta_link (Link)
   - field_features (Paragraph reference with field_title, field_description)

   Usage:
   {% include '@tailwind/components/component--features-section.html.twig' %}
   
   Or with overrides:
   {% include '@tailwind/components/component--features-section.html.twig' with {
     background: 'muted',
     columns: 2,
   } %}
#}

{% set data = get_features_section() %}
{% set background = background|default('light') %}
{% set columns = columns|default(3) %}

{% if data %}
  {% embed '@tailwind/components/component--section.html.twig' with {
    id: 'features-' ~ data.id,
    background: background,
    padding: 'py-16 lg:py-20',
  } %}
    {% block section_inner %}
      {# Admin edit link #}
      {% if data.edit_link %}
        <div class="mb-4 text-xs">
          <a href="{{ data.edit_link }}" class="inline-flex items-center gap-1 text-sky-600 hover:text-sky-700 underline">
            <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg>
            Edit Section
          </a>
        </div>
      {% endif %}

      {# Section header #}
      {% include '@tailwind/components/component--section-header.html.twig' with {
        title: data.title,
        description: data.description,
        cta_label: data.cta_label,
        cta_url: data.cta_url,
      } %}

      {# Features grid #}
      {% if data.items %}
        {% include '@tailwind/components/component--feature-grid.html.twig' with {
          columns: columns,
          items: data.items,
        } %}
      {% endif %}
    {% endblock %}
  {% endembed %}
{% endif %}
